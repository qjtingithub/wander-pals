<!-- templates/manage_invitations.html -->
{% extends "base.html" %}
{% block title %}管理邀请{% endblock %}
{% block content %}
<h2 class="text-center my-4">团队邀请</h2>

<div class="row">
    <div class="col-md-6">
        <h3 class="text-center">我发出的邀请</h3>
        <div class="list-group">
            {% for invitation in sent_invitations %}
                <div class="list-group-item">
                    <h5>团队: {{ invitation.team.name }}</h5>
                    <p>被邀请人: {{ invitation.invitee.username }}</p>
                    <p>状态: {{ invitation.status }}</p>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="col-md-6">
        <h3 class="text-center">我收到的邀请</h3>
        <div class="list-group">
            {% for invitation in received_invitations %}
                <div class="list-group-item">
                    <h5>来自团队: {{ invitation.team.name }}</h5>
                    <p>邀请人: {{ invitation.inviter.username }}</p>
                    <p>状态: {{ invitation.status }}</p>
                    {% if invitation.status == 'pending' %}
                        <form action="{{ url_for('respond_invitation', invitation_id=invitation.id, response='accept') }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-success">接受</button>
                        </form>
                        <form action="{{ url_for('respond_invitation', invitation_id=invitation.id, response='reject') }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-danger">拒绝</button>
                        </form>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
